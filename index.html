<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>לוח זמנים - בית הכנסת</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            color: #333;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .update-time {
            text-align: center;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        /* עיצוב כרטיסי המידע */
        .schedule-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-right: 5px solid var(--accent-color);
        }

        .schedule-card h2 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .time-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px dashed #eee;
        }

        .time-row:last-child {
            border-bottom: none;
        }

        .label {
            font-weight: bold;
        }

        .time {
            font-family: monospace;
            font-size: 1.1rem;
            color: var(--accent-color);
            font-weight: bold;
        }

        /* כפתור הבוט הצף */
        .bot-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: #25D366; /* צבע וואטסאפ, אפשר לשנות */
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.2s;
            z-index: 1000;
        }

        .bot-button:hover {
            transform: scale(1.05);
        }

    </style>
</head>
<body>

    <header>
        <h1>לוח זמנים שבועי</h1>
        <div id="synagogue-name">בית הכנסת המרכזי</div>
    </header>

    <div class="container">
        <div class="update-time" id="last-update">טוען נתונים...</div>

        <div id="schedule-container">
            </div>
    </div>

    <a href="https://wa.me/972500000000" class="bot-button" target="_blank">
        <span>עדכן זמנים בבוט</span>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
    </a>

    <script>
        // פונקציה לטעינת הנתונים מקובץ JSON
        async function loadSchedule() {
            try {
                // נסיון לטעון את קובץ הנתונים (שהבוט ייצור בהמשך)
                const response = await fetch('data.json'); 
                
                // אם אין קובץ כזה עדיין, נשתמש בנתוני דמה להדגמה
                if (!response.ok) throw new Error("קובץ נתונים לא נמצא");

                const data = await response.json();
                renderData(data);

            } catch (error) {
                console.log("משתמש בנתוני ברירת מחדל להדגמה");
                // נתוני דוגמה (מה שיוצג עד שהבוט יתחבר)
                const defaultData = {
                    lastUpdated: "עוד לא עודכן",
                    sections: [
                        {
                            title: "תפילות חול",
                            items: [
                                { label: "שחרית", time: "06:30" },
                                { label: "מנחה", time: "19:15" },
                                { label: "ערבית", time: "20:00" }
                            ]
                        },
                        {
                            title: "שיעורים",
                            items: [
                                { label: "דף יומי", time: "20:30" },
                                { label: "הלכה", time: "בין מנחה לערבית" }
                            ]
                        }
                    ]
                };
                renderData(defaultData);
            }
        }

        // פונקציה שמציירת את המידע על המסך
        function renderData(data) {
            document.getElementById('last-update').innerText = 'עודכן לאחרונה: ' + data.lastUpdated;
            
            const container = document.getElementById('schedule-container');
            container.innerHTML = ''; // ניקוי

            data.sections.forEach(section => {
                let html = `
                    <div class="schedule-card">
                        <h2>${section.title}</h2>
                        <div>
                `;
                
                section.items.forEach(item => {
                    html += `
                        <div class="time-row">
                            <span class="label">${item.label}</span>
                            <span class="time">${item.time}</span>
                        </div>
                    `;
                });

                html += `</div></div>`;
                container.innerHTML += html;
            });
        }

        // הפעלת הפונקציה בטעינת הדף
        loadSchedule();
    </script>
</body>
</html>